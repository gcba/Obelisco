/* === Variable and mixins overides === */

$alert-padding-y: 1rem;
$alert-padding-x: 1rem;

$alert-border-width: 2px;

$alert-bg-level: 0;
$alert-border-level: 0;

$alert-icon-size: 1.25rem;
$alert-icon-margin: 1.125rem;
$alert-close-btn-width: 5.5rem;
$alert-text-distance: 0.5rem;

// √çconos para cada tipo de alerta

$alert-icons: (
  'success':
    url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(38, 135, 74, 1);transform: ;msFilter:;"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm-1.999 14.413-3.713-3.705L7.7 11.292l2.299 2.295 5.294-5.294 1.414 1.414-6.706 6.706z"></path></svg>'),
  'danger':
    url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill:rgba(201, 59, 59, 1);transform: ;msFilter:;"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm4.207 12.793-1.414 1.414L12 13.414l-2.793 2.793-1.414-1.414L10.586 12 7.793 9.207l1.414-1.414L12 10.586l2.793-2.793 1.414 1.414L13.414 12l2.793 2.793z"></path></svg>'),  
  'primary':   
    url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(255, 168, 46, 1);transform: ;msFilter:;"><path d="M11.001 10h2v5h-2zM11 16h2v2h-2z"></path><path d="M13.768 4.2C13.42 3.545 12.742 3.138 12 3.138s-1.42.407-1.768 1.063L2.894 18.064a1.986 1.986 0 0 0 .054 1.968A1.984 1.984 0 0 0 4.661 21h14.678c.708 0 1.349-.362 1.714-.968a1.989 1.989 0 0 0 .054-1.968L13.768 4.2zM4.661 19 12 5.137 19.344 19H4.661z"></path></svg>'),
  'info':    
    url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(0, 123, 199, 1);transform: ;msFilter:;"><path d="M11.953 2C6.465 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.493 2 11.953 2zM13 17h-2v-2h2v2zm0-4h-2V7h2v6z"></path></svg>')
  );

/* === Custom variables and mixins === */

@mixin alert-variant($background, $border, $color) {
  @include gradient-bg($background);
  border-color: $border;
  border: 1px solid $border;
  border-left: 8px solid $border;
  border-radius: 8px;
  a {
    color: inherit;
  }
}

@mixin alert-icon($type) {
  &::before {
    background-image: map-get($alert-icons, $type);
  }
}

/* === Bootstrap Import === */

// Eliminamos el color secundario para las alertas.
$tmp: $theme-colors;
$theme-colors: map-remove($theme-colors, 'secondary');
$theme-colors: map-merge(
  $theme-colors,
  (
    'primary': $orange
  )
);
@import '~bootstrap/scss/alert';

/* === Custom styles === */

.alert {
  padding-left: $alert-padding-y + 2.375rem;
  color: $grisulado-900;
  background: #FCF5F5 0% 0%;

  &::before {
    content: '';
    position: absolute;
    background-repeat: no-repeat;
    background-size: contain;
    width: $alert-icon-size;
    height: $alert-icon-size;
    top: $alert-icon-margin;
    left: $alert-icon-margin;
  }

  @each $color, $value in $theme-colors {
    &.alert-#{$color} {
      @include alert-icon($color);
    }
  }

  p,
  ol {
    margin-bottom: $alert-text-distance;
  }

  ol {
    padding-left: 1.5rem;

    li {
      margin-bottom: $alert-text-distance / 2;
    }
  }

  *:last-child {
    margin-bottom: 0;
  }

  &.alert-primary {
    color: $grisulado-900;
  }
}

.alert-dismissible {
  padding-right: $alert-padding-x;

  .close-btn {
    margin-top: $alert-padding-y;
  }
}

@include media-breakpoint-up(sm) {
  .alert-dismissible {
    padding-right: $alert-close-btn-width + $alert-padding-x * 2;

    .close-btn {
      position: absolute;
      top: 50%;
      right: $alert-padding-x;
      width: $alert-close-btn-width;
      transform: translate(0, -50%);
      margin-top: 0;
    }
  }
}

@include media-breakpoint-down(sm) {
  .alert {
    padding-left: 2.375rem;

    &::before {
      left: $alert-icon-margin / 2;
    }
  }
}

// Volvemos a agregar el color secundario
$theme-colors: $tmp;
