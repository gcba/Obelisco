/* === Variable and mixins overides === */

$tooltip-font-size: 1rem;
$tooltip-font-weight: 400;
$tooltip-padding: 1rem;
$tooltip-border: 0.5rem;
$tooltip-border-radius: 0.5rem;

/* === Custom variables and mixins === */

@mixin positionTootip ($positionY, $positionX, $translateY, $translateX, $borderPositionColor, $arrowX, $arrowValue) {
  &:before {
    #{$positionY}: 100%;
    #{border-#{$positionY}-width}: 0;
    #{border-#{$borderPositionColor}-color}: $grisulado-700;
  }
  &:after {
    #{$positionY}: calc(100% + 6px);
  }
  &:before,
  &:after {
    #{$positionX}: calc( 50% - 8px);
    transform: translate($translateX, $translateY);
  }
  &::before{
    transform: rotate(45deg);
    background-color: $grisulado-700;
    border-radius: 2px;
    width: 16px;
    height: 16px;
    #{$arrowX}: $arrowValue;
  }
}

@mixin positionTootipX ($positionTop, $positionX, $borderPositionColor, $translateY, $translateX, $arrowX, $arrowY, $arrowXValue, $arrowYValue) {
  &:before {
    top: $positionTop;
    #{border-#{$positionX}-width}: 0;
    #{border-#{$borderPositionColor}-color}: $grisulado-700;
    #{$borderPositionColor}: calc(0em - 6px);
    transform: translate($translateX, $translateY);
  }
  &:after {
    top: 50%;
    #{$positionX}: calc(100% + 5px);
    transform: translate($translateX, $translateY);
  }
  &::before{
    transform: rotate(45deg);
    background-color: $grisulado-700;
    border-radius: 2px;
    width: 16px;
    height: 16px;
    #{$arrowX}: $arrowXValue;
    #{$arrowY}: $arrowYValue;
  }
}

/* === Custom styles === */

//POINTER
[data-tooltip] {
  position: relative;
  cursor: pointer;
  display: inline-block;
}

//TEXT
[data-tooltip]:before,
[data-tooltip]:after {
  font-size: $tooltip-font-size;
  font-weight: $tooltip-font-weight;
  pointer-events: none;
  position: absolute;
  box-sizing: border-box;
  display: none;
  opacity: 0;
}

//ARROW
[data-tooltip]:before {
  content: "";
  z-index: 100;
}

//BOX
[data-tooltip]:after {
  content: attr(data-tooltip);
  text-align: left;
  overflow: hidden;
  padding: $tooltip-padding;
  border-radius: $tooltip-border-radius;
  background: $grisulado-700;
  color: $white;
  z-index: 99;
  width: max-content;
  max-width: 18rem;
}

//SHOW TOOLTIP
[data-tooltip]:hover:before,
[data-tooltip]:hover:after {
  display: inline-block;
  opacity: 1;
}

//VOID
[data-tooltip=""]::after,
[data-tooltip=""]::before {
  display: none !important;
}

//-------------------DIRECTIONS-----------------
@mixin tooltip ($tag: '') {

  //TOP 
  #{$tag}[data-tooltip][data-flow="top"] {
    @if $tag =='a' {}

    @else if $tag =='span' {}

    @else if $tag =='i' {}

    @else {
      @include positionTootip(bottom, left, -8px, -50%, top, top, -24px);
    }
  }

  //TOP RIGHT 
  #{$tag}[data-tooltip][data-flow="top-right"] {
    @if $tag =='a' {}

    @else if $tag =='span' {}

    @else if $tag =='i' {}

    @else {
      @include positionTootip(bottom, left, -8px, -5%, top, top, -24px);
    }
  }

  //TOP LEFT 
  #{$tag}[data-tooltip][data-flow="top-left"] {
    @if $tag =='a' {}

    @else if $tag =='span' {}

    @else if $tag =='i' {}

    @else {
      @include positionTootip(bottom, right, -8px, 5%, top, top, -24px);
    }
  }

  //BOTTOM 
  #{$tag}[data-tooltip][data-flow="bottom"] {
    @if $tag =='a' {}

    @else if $tag =='span' {}

    @else if $tag =='i' {}

    @else {
      @include positionTootip(top, left, 8px, -50%, bottom, top, 46px);
    }
  }

  //BOTTOM RIGHT 
  #{$tag}[data-tooltip][data-flow="bottom-right"] {
    @if $tag =='a' {}

    @else if $tag =='span' {}

    @else if $tag =='i' {}

    @else {
      @include positionTootip(top, left, 8px, -5%, bottom, top, 46px);
    }
  }

  //BOTTOM LEFT 
  #{$tag}[data-tooltip][data-flow="bottom-left"] {
    @if $tag =='a' {}

    @else if $tag =='span' {}

    @else if $tag =='i' {}

    @else {
      @include positionTootip(top, right, 8px, 5%, bottom, top, 46px);
    }
  }

  //LEFT
  #{$tag}[data-tooltip][data-flow="left"] {
    @if $tag =='a' {}

    @else if $tag =='span' {}

    @else if $tag =='i' {}

    @else {
      @include positionTootipX(50%, right, left, -50%, -8px, left, top, -24px, calc(50% - 8px));
    }
  }

  //LEFT-TOP
  [data-tooltip][data-flow="left-top"] {
    @if $tag =='a' {}

    @else if $tag =='span' {}

    @else if $tag =='i' {}

    @else {
      @include positionTootipX(40%, right, left, calc(-100% + 32px), -8px, left, top, -24px, calc(50% - 8px));
    }
  }

  //LEFT-BOTTOM
  [data-tooltip][data-flow="left-bottom"] {
    @if $tag =='a' {}

    @else if $tag =='span' {}

    @else if $tag =='i' {}

    @else {
      @include positionTootipX(60%, right, left, calc(0% - 32px), -8px, left, top, -24px, calc(50% - 8px));
    }
  }

  //RIGHT 
  #{$tag}[data-tooltip][data-flow="right"] {
    @if $tag =='a' {}

    @else if $tag =='span' {}

    @else if $tag =='i' {}

    @else {
      @include positionTootipX(50%, left, right, -50%, 8px, right, top, -24px, calc(50% - 8px));
    }
  }

  //RIGHT-TOP
  [data-tooltip][data-flow="right-top"] {
    @if $tag =='a' {}

    @else if $tag =='span' {}

    @else if $tag =='i' {}

    @else {
      @include positionTootipX(40%, left, right, calc(-100% + 32px), 8px, right, top, -24px, calc(50% - 8px));
    }
  }

  //RIGHT-BOTTOM
  [data-tooltip][data-flow="right-bottom"] {
    @if $tag =='a' {}

    @else if $tag =='span' {}

    @else if $tag =='i' {}

    @else {
      @include positionTootipX(60%, left, right, calc(0% - 32px), 8px, right, top, -24px, calc(50% - 8px));
    }
  }
}

@include tooltip();
@include tooltip(a);
@include tooltip(span);
@include tooltip(i);